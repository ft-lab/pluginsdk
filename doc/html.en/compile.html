<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Compile</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('compile.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Compile </div>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="windows"></a>
*Windows</h2>
<h2><a class="anchor" id="compile_new_project_windows"></a>
*Shade 13 Plugin Compile for windows</h2>
<h3><a class="anchor" id="compile_new_project_windows_step1"></a>
1. Create a new project</h3>
<ul>
<li>From the File menu, select Create New &gt; Project. The New Project dialog appears. <br/>
 </li>
<li>From the list of project types, choose Visual C++ Project Win32. <br/>
 </li>
<li>From the templates on the right side, choose the Win32 Project template. <br/>
 </li>
<li>Enter a name for the project and click OK. <br/>
 </li>
<li>Next, the Win32 application wizard dialog is displayed. <br/>
 </li>
<li>Click on the Application Settings tab, and choose DLL for the application type. Check the box for empty application and then click Finish.</li>
</ul>
<h3><a class="anchor" id="compile_new_project_windows_step2"></a>
2. Plugin Project Settings</h3>
<ul>
<li>Select a project from the Solution Explorer and display the Project Page dialog from the Menu properties. <br/>
 </li>
<li>Structure property &gt; C/C++ &gt; In the general Add Include directory, add the header file paths. The sample is below. Change it according to your project and the Plugin SDK location.</li>
</ul>
<div class="fragment"><pre class="fragment"> ../../include;../../boost_1_43_0;../../include/openexr-1.6.1;../../include/opengl
</pre></div><ul>
<li>Structure property &gt; C/C++ &gt; Under the Pre-processor Definition, add the following:</li>
</ul>
<div class="fragment"><pre class="fragment"> PLUGIN=1;STDCALL=__stdcall;DLLEXPORT=__declspec(dllexport);<span class="keywordflow">for</span>=<span class="keywordflow">if</span>(<span class="keyword">true</span>)<span class="keywordflow">for</span>;SXWINDOWS;SXWIN32;_CRT_SECURE_NO_DEPRECATE;SXPLUGIN=1;_SECURE_SCL=0;PLUGIN_EXPORTS;SXCORE=;SXMODEL=
</pre></div><ul>
<li>A sample shown at below</li>
</ul>
<div class="fragment"><pre class="fragment"> WIN32;NDEBUG;_WINDOWS;PLUGIN=1;STDCALL=__stdcall;DLLEXPORT=__declspec(dllexport);<span class="keywordflow">for</span>=<span class="keywordflow">if</span>(<span class="keyword">true</span>)<span class="keywordflow">for</span>;SXWINDOWS;SXWIN32;_CRT_SECURE_NO_DEPRECATE;SXPLUGIN=1;_SECURE_SCL=0;PLUGIN_EXPORTS;SXCORE=;SXMODEL=
</pre></div><ul>
<li>Structure property &gt; C/C++ &gt; xxx:</li>
</ul>
<ul>
<li>Add the related SDK source code and the Plugin SDK vectors.cpp, com.cpp, and strings.cpp to the project.</li>
</ul>
<h2><a class="anchor" id="MacOSX"></a>
*MacOSX</h2>
<h2><a class="anchor" id="compile_new_project_mac"></a>
*How to create a new project for a Shade 13 plugin with Xcode 3.2 later</h2>
<h3><a class="anchor" id="compile_new_project_mac_step1"></a>
1. Create a new project</h3>
<ul>
<li>Select New Project &gt; Cocoa Bundle from the File menu and click the Next button. <br/>
 </li>
<li>Name the project and click the Choose... button next to the Project Directory. Select the project folder and click Finish. <br/>
 </li>
<li>Select the Frameworks and Libraries inside the Groups &amp; Files tree in the Xcode window. Right-click or Ctrl-click and select Add &gt; Existing Frameworks... from the context menu to add a Carbon framework. <br/>
 </li>
<li>The added Carbon framework is Carbon.framework in the /System/Library/Frameworks folder.</li>
</ul>
<h3><a class="anchor" id="compile_new_project_mac_step2"></a>
2. Plugin Project Settings</h3>
<ul>
<li>Groups &amp; Select the project name in Targets in the File tree, and display the Target project name Info with Get info(command+i). <br/>
 </li>
<li>Change the Wrapper Extension bundle to shdplugin. <br/>
 </li>
<li>The Shade 8 SDK include and boost_1_43_0 paths are listed in Header Search Paths. <br/>
 </li>
<li>Appends vectors.cpp and vectors.cpp in the Shade 8 Plugin SDK include to the Groups &amp; Files tree. <br/>
 </li>
<li>Add the following to the precompile header (normally the project name.pch) in the Groups &amp; Files tree.</li>
</ul>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;Carbon/Carbon.h&gt;</span>
<span class="preprocessor"> #ifdef __OBJC__</span>
<span class="preprocessor"></span><span class="preprocessor"> #import &lt;Foundation/Foundation.h&gt;</span>
<span class="preprocessor"> #import &lt;AppKit/AppKit.h&gt;</span>
<span class="preprocessor"> #endif</span>
<span class="preprocessor"></span> 
<span class="preprocessor"> #define SXMACOSX 1</span>
<span class="preprocessor"></span><span class="preprocessor"> #define SXCARBON 1</span>
<span class="preprocessor"></span><span class="preprocessor"> #define PLUGIN 1</span>
<span class="preprocessor"></span><span class="preprocessor"> #define SXPLUGIN 1</span>
<span class="preprocessor"> #define __stdcall</span>
</pre></div><p>Please reference to <a class="el" href="changes12_0_3.html">Changes Between Shade 11 and Shade 12 SDK</a> for more information on project settings.</p>
<h2><a class="anchor" id="sample_code"></a>
Creating a Plugin</h2>
<p>The minimum plugin sample source using plugin_interface is noted below.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;sxsdk.cxx&quot;</span>
 
 <span class="keyword">namespace </span>{
     <span class="keyword">const</span> sx::uuid_class SIMPLE_PLUGIN_ID(<span class="stringliteral">&quot;9255A624-549E-11D9-8D8E-000A95BACEB2&quot;</span>);
     <span class="keyword">class </span>simple_plugin_interface : <span class="keyword">public</span> sxsdk::plugin_interface {
     <span class="keyword">private</span>:
         <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_shade_version ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> SHADE_BUILD_NUMBER; }
         <span class="keyword">virtual</span> sx::uuid_class <a class="code" href="dllentries_8h.html#aa885da437906315adb191d63e82f873d" title="Returns the plugin ID.">get_uuid</a> (<span class="keywordtype">void</span> *) { <span class="keywordflow">return</span> SIMPLE_PLUGIN_ID; }
         <span class="keyword">virtual</span> <span class="keywordtype">void</span> do_it (<a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade, <a class="code" href="structsxsdk_1_1scene__interface.html" title="Uset to set/get scene info.">sxsdk::scene_interface</a> *scene, <span class="keywordtype">void</span> *);
     };
 }
 <span class="keywordtype">void</span> simple_plugin_interface::do_it (<a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade, <a class="code" href="structsxsdk_1_1scene__interface.html" title="Uset to set/get scene info.">sxsdk::scene_interface</a> *scene, <span class="keywordtype">void</span> *) {
     shade-&gt;<a class="code" href="structsxsdk_1_1shade__interface.html#abde41aed9230aacfb7fdf8bd31baeace" title="Displays text in the message window.">message</a>(<span class="stringliteral">&quot;do_it : simple plugin&quot;</span>);
 }
 
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> __stdcall <a class="code" href="dllentries_8h.html#adc94c8f16008f9bf0fe6c86082bdb86f" title="Creates a new plugin interface object.">create_interface</a> (<span class="keyword">const</span> IID &amp;iid, <span class="keywordtype">int</span> i, <span class="keywordtype">void</span> **p, <a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade, <span class="keywordtype">void</span> *) {
     <a class="code" href="classunknown__interface.html">unknown_interface</a> *u = <span class="keyword">new</span> simple_plugin_interface;
     u-&gt;AddRef();
     *p = (<span class="keywordtype">void</span> *)u;
 }
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> __stdcall <a class="code" href="dllentries_8h.html#a77be18c81060298895eacfbc0a58b81d" title="Returns the number of plugin interface objects.">has_interface</a> (<span class="keyword">const</span> IID &amp;iid, <a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade) {
     <span class="keywordflow">if</span> (iid == plugin_iid) <span class="keywordflow">return</span> 1;
     <span class="keywordflow">return</span> 0;
 }
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * __stdcall <a class="code" href="dllentries_8h.html#a6f2ba000248080d52ec51c4260586bc0" title="Returns the name of the plugin interface.">get_name</a> (<span class="keyword">const</span> IID &amp;iid, <span class="keywordtype">int</span> i, <a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade, <span class="keywordtype">void</span> *) {
     <span class="keywordflow">if</span> (iid == plugin_iid) <span class="keywordflow">return</span> <span class="stringliteral">&quot;simple_plugin&quot;</span>;
     <span class="keywordflow">return</span> 0;
 }
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> sx::uuid_class __stdcall <a class="code" href="dllentries_8h.html#aa885da437906315adb191d63e82f873d" title="Returns the plugin ID.">get_uuid</a> (<span class="keyword">const</span> IID &amp;iid, <span class="keywordtype">int</span> i, <span class="keywordtype">void</span> *) {
     <span class="keywordflow">if</span> (iid == plugin_iid) <span class="keywordflow">return</span> SIMPLE_PLUGIN_ID;
     <span class="keywordflow">return</span> sx::uuid_class(0u);
 }
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * __stdcall <a class="code" href="dllentries_8h.html#a0f577a6d56ac9e2bd6c817102e6e8313" title="The menu group name.">get_group_name</a> (<span class="keyword">const</span> IID &amp;iid, <a class="code" href="structsxsdk_1_1shade__interface.html" title="Base interface for accessing Shade info.">sxsdk::shade_interface</a> *shade, <span class="keywordtype">void</span> *) {
     <span class="keywordflow">return</span> 0;
 }
 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">bool</span> __stdcall <a class="code" href="dllentries_8h.html#a95c101e59aab6a25c48e46647f4e409e" title="Should return true if the plugin is a resident plugin.">is_resident</a> (<span class="keyword">const</span> IID &amp;iid, <span class="keywordtype">int</span> i, <span class="keywordtype">void</span> *) {
     <span class="keywordflow">return</span> <span class="keyword">false</span>;
 }
</pre></div><p>Sample acquisition</p>
<p>Backwards-compatible plugin IDs used to require applying on the Shade support page, but in Shade 8 you can get the plugin ID by using the UUID generated by the plugin to uuid_class (returned by <a class="el" href="dllentries_8h.html#aa885da437906315adb191d63e82f873d" title="Returns the plugin ID.">get_uuid()</a>).</p>
<p>See <a class="el" href="pluginid.html">Plugin IDs</a> for how to generate UUIDs. </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<br><br>
<hr>
<div align="center">Copyright &copy; e frontier, Inc. All rights reserved.</div>
</body></html>
